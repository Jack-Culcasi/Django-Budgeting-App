{% extends "index.html" %}
{% block start %}
{% load static %}

{% if messages %}
    <div>
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
            </div>
        {% endfor %}
    </div>
{% endif %}

<div class="flex flex-col items-center justify-center">
    <div class="flex flex-col items-center w-full max-w-xs mb-4">
        <form method="post" enctype="multipart/form-data" id="uploadForm">
            {% csrf_token %}
            {{ form.as_p }}
            <div class="flex items-center gap-2 mt-4">
                <button type="submit" class="btn btn-primary">Upload</button>
                <!-- Spinner initially hidden -->
                <span id="loadingSpinner" class="loading loading-spinner text-primary hidden"></span>
            </div>
        </form>
    </div>
    
    <form method="POST">
        {% csrf_token %}
        <button type="submit" class="btn btn-error" name="delete_data" value="true" onclick="return confirm('Are you sure you want to delete all your data?')">
            Delete
        </button>
    </form>
</div>

{% block script %}
<script src="{% static 'js/spinner.js' %}"></script>
{% endblock %}
{% endblock %}